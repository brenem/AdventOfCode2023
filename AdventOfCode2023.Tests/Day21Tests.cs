using FluentAssertions;

namespace AdventOfCode2023.Tests;

public class Day21Tests
{
    [Fact]
    public void Part1Test()
    {
        var day = new Day21();

        var testInput = new[]
        {
            "...........",
            ".....###.#.",
            ".###.##..#.",
            "..#.#...#..",
            "....#.#....",
            ".##..S####.",
            ".##..#...#.",
            ".......##..",
            ".##.#.####.",
            ".##..##.##.",
            "..........."
        };

        var result = day.CountSteps(6, testInput);

        result.Should().Be(16);
    }

    [Fact]
    public void Part2Test()
    {
        var day = new Day21();

        var testInput = new[]
        {
            ".................................",
            ".....###.#......###.#......###.#.",
            ".###.##..#..###.##..#..###.##..#.",
            "..#.#...#....#.#...#....#.#...#..",
            "....#.#........#.#........#.#....",
            ".##...####..##...####..##...####.",
            ".##..#...#..##..#...#..##..#...#.",
            ".......##.........##.........##..",
            ".##.#.####..##.#.####..##.#.####.",
            ".##..##.##..##..##.##..##..##.##.",
            ".................................",
            ".................................",
            ".....###.#......###.#......###.#.",
            ".###.##..#..###.##..#..###.##..#.",
            "..#.#...#....#.#...#....#.#...#..",
            "....#.#........#.#........#.#....",
            ".##...####..##..S####..##...####.",
            ".##..#...#..##..#...#..##..#...#.",
            ".......##.........##.........##..",
            ".##.#.####..##.#.####..##.#.####.",
            ".##..##.##..##..##.##..##..##.##.",
            ".................................",
            ".................................",
            ".....###.#......###.#......###.#.",
            ".###.##..#..###.##..#..###.##..#.",
            "..#.#...#....#.#...#....#.#...#..",
            "....#.#........#.#........#.#....",
            ".##...####..##...####..##...####.",
            ".##..#...#..##..#...#..##..#...#.",
            ".......##.........##.........##..",
            ".##.#.####..##.#.####..##.#.####.",
            ".##..##.##..##..##.##..##..##.##.",
            "................................."
        };

        var result = day.CountSteps(50, testInput);

        result.Should().Be(1594);
    }
}
